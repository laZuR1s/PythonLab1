# Автор: Лазарев А.А
# Задача: Создать приложение для запоминания неудач с возможностью вывода списка в прямом и обратном порядке.
# Примечание: Программа работает в бесконечном цикле до выбора пункта "Завершить".


# Константа N, задающая максимальное количество неудач
N = 5


# Основное меню
def menu():
    print("\n1. Добавить неудачу")
    print("2. Показать все неудачи (в прямом порядке)")
    print("3. Показать все неудачи (в обратном порядке)")
    print("4. Завершить")

def main():
    memory = []

    while True: # Эмуляция do while из С++
        # Вывод меню
        menu()
        choice = input("Выберите действие: ")

        # Обработка выбора пользователя
        if choice == '1':
            failure = input("Введите описание новой неудачи: ")
            # Добавляет неудачу в список. Если список превышает размер N, удаляется самая старая
            if len(memory) >= N:
                memory.pop(0)  # Удаляем самую старую неудачу
            memory.append(failure)  # Добавляем новую неудачу
            print("Неудача добавлена.")
        elif choice == '2':
            # Выводит все неудачи в прямом порядке
            if not memory:
                print("Список неудач пуст.")
            else:
                print("Неудачи в прямом порядке:")
                for i, failure in enumerate(memory):
                    # Форматированный вывод с номером неудачи и её содержимым
                    print("%2d. %s" % (i + 1, failure))
        elif choice == '3':
            # Выводит все неудачи в обратном порядке
            if not memory:
                print("Список неудач пуст.")
            else:
                print("Неудачи в обратном порядке:")
                for i, failure in enumerate(reversed(memory)):
                    # Форматированный вывод с номером неудачи и её содержимым
                    print("%2d. %s" % (i + 1, failure))
        elif choice == '4':
            print("Завершение программы.")
            break  # Выход из цикла и завершение программы
        else:
            print("Неверный выбор. Пожалуйста, выберите действующий пункт меню.")

# Точка входа в программу
if __name__ == "__main__":
    main()
